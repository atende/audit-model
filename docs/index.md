
<section class="page-header">
      <h1 class="project-name">Audit Model</h1>
      <h2 class="project-tagline">A model for AuditEvents in project Audition</h2>
      <a href="https://github.com/atende/audit-model" class="btn btn-primary">View on GitHub</a>
      <a href="https://github.com/atende/audit-model/zipball/master" class="btn btn-primary">Download .zip</a>
      <a href="https://github.com/atende/audit-model/tarball/master" class="btn btn-primary">Download .tar.gz</a>
</section>

# About

This project represents a model for events transmited, serialized and persisted in the audit project

For more information about the project [Audit Project](http://github.com/atende/audit-docs)

# The AuditEvent Object


| Field                | Description                                                                                                                                             | Constraints
|----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|-------------
| id                   | The id is auto generated by the storage                                                                                                                 | 
| applicationName      | A identification of the application. You should take care that each application must have a unique applicationName across the others                    | Not null
| userName             | Who make the action? Normally the user name of the current login in user                                                                                | Not null
| action               | What happen? The action must identify what happen in the event, it should be a verb, it should be standardized, after all someone will search for that  | Not null
| resource.resouceType | The resource represents, what or who has been affected by the action. Resource type is the class of resources. Example: person                          | Not null
| resource.resourceId  | The resource id represents the unity that has been affected by the action. Example: 123 Multiple values uses ; to separate. Example 123;456             | Not null
| dateTime             | When the event was generated.                                                                                                                           | Not null
| ip                   | The ip address of the client machine for the user that generate the event.                                                                              | 
| securityLevel        | A way to classify the severity of the event. Only supports 3 values: LOW, NORMAL, HIGHT                                                                 | 
| description          | A optional description of the event, or could be used for other information                                                                             |

With that object you can interpret a AuditEvent as this (order of the table above)

    SGL - fooUser - ldap_enable - person - 123 - Sat May 21 08:14:59 - 10.0.1.1 - NORMAL - 

That line means user fooUser in the application SGL has enable in ldap the person 123 on Sat May 21 08:14:59, the user was in the machine 10.0.1.1 and this is a normal operation

Is crucial that the actions should be standardized and the resources too. Some actions are common across every applications, some makes sense
only for a particular app. 

The underline should be used to separate the concerns. In the exemplo above *ldap_enable* separates the actual action **enable** for a more specific
action *ldap*. That means the user has enable in some ldap respository, not that the user has enabled in the application itself.

Other examples:

* database_insert - An insert in the database
* database_update - An update in the database
* database_delete - A delete in the database
* database_select - A select in the database
* database_insert_or_update - A insert or update operation in database
* user_login - The user has login
* user_logout - The user has logout
* user_enable - The user has been enabled
* ldap_create - The ldap object has been created
* ldap_read - The ldap object has been readed
* ldap_change_password - The ldap password of the object has been changed

If a action is specific for the application, use the name of application as a prefix. Example **sgl_reset_password**

It is entire possible to persist a non standardize json object in the future